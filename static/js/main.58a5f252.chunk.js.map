{"version":3,"sources":["components/navbar/Navbar.module.css","components/app/App.module.css","components/modal/modal-overlay/ModalOverlay.module.css","components/UI/tabs/Tabs.module.css","components/ingredient/ingredient-list/IngredientList.module.css","components/burger-constructor/burger-constructor-item/BurgerConstructorItem.module.css","pages/error/Error.module.css","pages/ingredient/Ingredient.module.css","components/order-tape/OrderTape.module.css","store/slices/live-orders/liveOrdersSlice.ts","components/UI/icon-button/IconButton.tsx","components/navbar/Navbar.tsx","components/header/AppHeader.tsx","utils/api.ts","store/slices/ingredients/ingredientsSlice.ts","components/ingredient/ingredient-details/IngredientDetails.tsx","components/modal/modal-overlay/ModalOverlay.tsx","components/modal/modal/Modal.tsx","store/slices/auth/authSlice.ts","components/protected-route/ProtectedRoute.tsx","components/UI/tabs/Tabs.tsx","utils/utils.ts","store/slices/burger-constructor/burgerConstructorSlice.ts","components/ingredient/ingredient-item/IngredientItem.tsx","hooks/useDragged.ts","components/ingredient/ingredient-list/IngredientList.tsx","hooks/storeHooks.ts","components/burger-ingredients/BurgerIngredients.tsx","images/done.jpg","components/order-details/OrderDetails.tsx","store/slices/order/orderSlice.ts","hooks/useAuth.ts","components/checkout/Checkout.tsx","hooks/useDisclosure.ts","hooks/useDropped.ts","components/burger-constructor/burger-constructor-preview/BurgerConstructorPreview.tsx","components/burger-constructor/burger-constructor-item/BurgerConstructorItem.tsx","components/burger-constructor/BurgerConstructor.tsx","pages/create-burger/CreateBurger.tsx","components/form/Form.tsx","pages/login/Login.tsx","pages/register/Register.tsx","pages/forgot-password/ForgotPassword.tsx","pages/reset-password/ResetPassword.tsx","components/sidebar/Sidebar.tsx","pages/profile/Profile.tsx","pages/error/Error.tsx","pages/ingredient/Ingredient.tsx","components/order/Order.tsx","components/order-tape/OrderTape.tsx","components/scoreboard/Scoreboard.tsx","pages/feed/Feed.tsx","components/order-info/OrderInfo.tsx","pages/feed/feed-info/FeedInfo.tsx","pages/orders/Orders.tsx","pages/Pages.tsx","components/app/App.tsx","reportWebVitals.ts","store/store.ts","store/middleware/socket-middleware.ts","index.tsx","components/order-info/OrderInfo.module.css","components/order/Order.module.css","components/sidebar/Sidebar.module.css","components/scoreboard/Scoreboard.module.css","components/ingredient/ingredient-item/IngredientItem.module.css","components/burger-constructor/burger-constructor-preview/BurgerConstructorPreview.module.css","components/UI/icon-button/IconButton.module.css","components/ingredient/ingredient-details/IngredientDetails.module.css","components/modal/modal/Modal.module.css","components/header/AppHeader.module.css","components/order-details/OrderDetails.module.css","pages/feed/Feed.module.css","components/burger-ingredients/BurgerIngredients.module.css","components/checkout/Checkout.module.css","components/burger-constructor/BurgerConstructor.module.css","components/form/Form.module.css","pages/profile/Profile.module.css"],"names":["module","exports","WebsocketStatus","IconButton","icon","path","children","match","useRouteMatch","exact","to","className","styles","active","disabled","button","Navbar","links","id","name","type","navbar","map","link","AppHeader","header","container","logo","API_URL","INGREDIENTS_URL","ORDER_URL","AUTH_LOGIN_URL","AUTH_REGISTER_URL","AUTH_LOGOUT_URL","AUTH_TOKEN_URL","PASSWORD_FORGOT_URL","PASSWORD_RESET_URL","GET_USER_URL","PATCH_USER_URL","checkReponse","res","ok","json","then","err","Promise","reject","fetchDataWithTokens","url","data","fetch","method","body","JSON","stringify","headers","accessToken","refreshToken","localStorage","setItem","fetchPost","fetchWithRefresh","options","a","message","token","getItem","refreshData","authorization","fetchIngredients","createAsyncThunk","ingredientsSlice","createSlice","initialState","request","error","ingredients","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","selectIngredients","IngredientDetails","useParams","detailIngredient","useSelector","find","ingredient","_id","image","src","image_large","alt","list","key","item","ModalOverlay","close","overlay","onClick","modalContainer","document","getElementById","Modal","title","classes","useEffect","addEventListener","closeModalByEscape","removeEventListener","event","ReactDOM","createPortal","modal","content","head","registerUser","user","authUser","canResetPassword","resetPassword","getUser","updateUser","logout","removeItem","email","passwordReset","authSlice","success","selectAuth","auth","ProtectedRoute","rest","render","location","pathname","from","Tabs","tabs","currentTab","setCurrentTab","controls","tab","value","getId","uuidv4","getDate","date","formatRelative","Date","locale","ru","getGroupedObjectByKey","arr","reduce","acc","val","push","getTranslate","burgerConstructorSlice","bun","addBun","addIngridient","removeIngredient","filter","ingridient","removeAllIngredients","changeItemsPosition","splice","dragIndex","hoverIndex","actions","selectBurgerConstructor","burgerConstructor","IngredientItem","count","useLocation","dispatch","useDispatch","onDragEnd","useDrag","end","monitor","dropResult","getDropResult","collect","isDragging","drag","useDragged","borderColor","background","ref","style","counter","size","price","IngredientList","dispatchHook","selectorHook","useUnwrapAsyncThunk","useCallback","asyncThunk","unwrapResult","BurgerIngredients","useState","setTabs","burgerIngredientsList","useRef","constructorIngredients","groupedIngredients","useMemo","groupData","Object","keys","ingredientsCount","setActiveTabOnScroll","nodeList","indent","containerTopOffset","getBoundingClientRect","top","i","length","node","$el","getVisibleNodeOnScroll","current","tabElement","element","offset","offsetTop","scrollTo","behavior","OrderDetails","number","order","doneImage","fetchOrder","fetchOrderInfo","NaN","info","orderSlice","clearOrder","orders","selectOrder","useAuth","isAuth","Checkout","totalPrice","orderList","history","useHistory","unwrapAsyncThunk","onOpen","onClose","isOpen","setIsOpen","open","toggle","useDisclosure","checkout","useDropped","accept","useDrop","Array","isArray","isOver","canDrop","drop","BurgerConstructorPreview","text","preview","previewTop","previewBottom","previewCanDrop","previewIsOver","BurgerConstructorItem","handleClose","isLocked","index","hover","hoverBoundingRect","hoverMiddleY","bottom","clientOffset","getClientOffset","undefined","hoverClientY","y","opacity","thumbnail","BurgerConstructor","replace","ingredientDrop","ingredientCanDrop","ingredientIsOver","bunTopDrop","bunTopCanDrop","bunTopIsOver","bunBottomDrop","bunBottomCanDrop","bunBottomIsOver","constructor","CreateBurger","width","DndProvider","backend","HTML5Backend","Form","load","onSubmit","form","preventDefault","Login","password","values","setValues","visiblePassword","setVisiblePassword","onChange","target","placeholder","onIconClick","errorText","Register","ForgotPassword","setEmail","e","ResetPassword","code","ProfileNav","sidebar","activeClassName","Profile","setDisabled","userChanged","onDisabled","profile","Sidebar","display","justifyContent","Error","Ingredients","Order","status","updatedAt","allIngredients","orderIngredients","forEach","includes","footer","images","slice","imageWrap","zIndex","maxCount","image_mobile","OrderTape","tape","Scoreboard","total","totalToday","scoreboard","progress","OFFLINE","connectionError","liveOrders","wsConnecting","CONNECTING","wsOpen","ONLINE","wsClose","wsError","wsMessage","wsConnect","createAction","wsDisconnect","selectLiveOrders","Feed","row","col","OrderInfo","FeedInfo","Orders","Pages","back","goBack","Ingredient","App","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","liveOrdersMiddleware","wsActions","store","socket","isConnected","reconnectTimer","next","wsSendMessage","onError","onMessage","console","log","WebSocket","onopen","onerror","onmessage","parsedData","parse","onclose","toString","window","setTimeout","send","clearTimeout","socketMiddleware","rootReducer","combineReducers","liveOrdersSlice","configureStore","reducer","middleware","getDefaultMiddleware","concat","StrictMode"],"mappings":"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","file":"static/js/main.58a5f252.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__AYGyQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__2IQkG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"ModalOverlay_overlay__1B056\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Tabs_controls__2bjtp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"IngredientList_list__qUxf_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"BurgerConstructorItem_item__1Fujk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__NuFxq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"Ingredient_ingredient__3DNw6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tape\":\"OrderTape_tape__3ksdz\"};","import { createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../../../types/store'\nimport { createAction } from '@reduxjs/toolkit';\nimport { IOrder } from '../../../types/types';\n\nexport enum WebsocketStatus {\n  CONNECTING = 'CONNECTING...',\n  ONLINE = 'ONLINE',\n  OFFLINE = 'OFFLINE'\n}\n\ninterface ILiveOrders {\n  status: WebsocketStatus;\n  connectionError: string;\n  data: {\n    orders: IOrder[];\n    success: boolean;\n    total: number;\n    totalToday: number;\n  } | null;\n}\n\nconst initialState: ILiveOrders = {\n  status: WebsocketStatus.OFFLINE,\n  connectionError: '',\n  data: null\n}\n\nconst liveOrders = createSlice({\n  name: 'liveOrders',\n  initialState,\n  reducers: {\n    wsConnecting: (state) => {\n      state.status = WebsocketStatus.CONNECTING\n    },\n    wsOpen: (state) => {\n      state.status = WebsocketStatus.ONLINE\n      state.connectionError = ''\n    },\n    wsClose: (state) => {\n      state.status = WebsocketStatus.OFFLINE\n    },\n    wsError: (state, action) => {\n      state.connectionError = action.payload\n    },\n    wsMessage: (state, action) => {\n      state.data = action.payload\n    },\n  }\n})\n\nexport const wsConnect = createAction<string, 'LIVE_ORDERS_CONNECT'>('LIVE_ORDERS_CONNECT');\nexport const wsDisconnect = createAction('LIVE_ORDERS_DISCONNECT');\nexport const {\n  wsConnecting,\n  wsOpen,\n  wsClose,\n  wsError,\n  wsMessage,\n} = liveOrders.actions\n\nexport const selectLiveOrders = (state: RootState) => state.liveOrders\n\nexport default liveOrders.reducer\n","import { FC } from 'react'\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport styles from './IconButton.module.css'\nimport { IIconButtonProps } from '../../../types/types'\n\nconst IconButton: FC<IIconButtonProps> = ({ icon, path, children }) => {\n  const match = useRouteMatch({\n    path,\n    exact: true\n  })\n\n  return (\n    <Link\n      to={path}\n      className={`\n        ${match && path ? styles.active : ''}\n        ${!path ? styles.disabled : ''}\n        ${styles.button}\n        pl-5 pr-5 pt-4 pb-4\n        text text_type_main-default\n      `}\n    >\n      <span className={`${styles.icon} mr-2`}>\n        {icon}\n      </span>\n      {children}\n    </Link>\n  )\n}\n\nexport default IconButton\n","import { FC } from 'react'\nimport { BurgerIcon, ListIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport IconButton from '../UI/icon-button/IconButton'\nimport styles from './Navbar.module.css'\nimport { INavbarLink } from '../../types/types'\n\nconst Navbar: FC = () => {\n  const links: INavbarLink[] = [\n    { id: 0, name: 'Конструктор', icon: <BurgerIcon type=\"primary\" />, path: '/', },\n    { id: 1, name: 'Лента заказов', icon: <ListIcon type=\"primary\" />, path: '/feed', },\n  ]\n\n  return (\n    <nav className={styles.navbar}>\n      {links.map((link) => (\n        <IconButton\n          key={link.id}\n          icon={link.icon}\n          path={link.path}\n        >\n          {link.name}\n        </IconButton>\n      ))}\n    </nav>\n  )\n}\n\nexport default Navbar\n","import { FC } from 'react'\nimport Navbar from '../navbar/Navbar'\nimport IconButton from '../UI/icon-button/IconButton'\nimport { Logo, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport styles from './AppHeader.module.css'\nimport { Link } from 'react-router-dom'\n\nconst AppHeader: FC = () => {\n  return (\n    <header className={styles.header}>\n      <div className={`${styles.container} container`}>\n        <Navbar />\n        <div className={styles.logo}>\n          <Link to=\"/\">\n            <Logo />\n          </Link>\n        </div>\n        <IconButton icon={<ProfileIcon type=\"primary\" />} path=\"/profile\">\n          Личный кабинет\n        </IconButton>\n      </div>\n    </header>\n  )\n}\n\nexport default AppHeader\n","import { ITokens } from \"../types/types\"\n\nexport const API_URL: string = 'https://norma.nomoreparties.space/api'\nexport const INGREDIENTS_URL: string = `${API_URL}/ingredients`\nexport const ORDER_URL: string = `${API_URL}/orders`\n// AUTH\nexport const AUTH_LOGIN_URL: string = `${API_URL}/auth/login`\nexport const AUTH_REGISTER_URL: string = `${API_URL}/auth/register`\nexport const AUTH_LOGOUT_URL: string = `${API_URL}/auth/logout`\nexport const AUTH_TOKEN_URL: string = `${API_URL}/auth/token`\n// PASSWORD\nexport const PASSWORD_FORGOT_URL: string = `${API_URL}/password-reset`\nexport const PASSWORD_RESET_URL: string = `${API_URL}/password-reset/reset`\n// USER\nexport const GET_USER_URL: string = `${API_URL}/auth/user`\nexport const PATCH_USER_URL: string = `${API_URL}/auth/user`\n// ORDERS\nexport const GET_ALL_ORDERS: string = 'wss://norma.nomoreparties.space/orders/all'\nexport const GET_USER_ORDERS: string = 'wss://norma.nomoreparties.space/orders?token='\n\nexport const checkReponse = <T>(res: Response): Promise<T> => {\n  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err))\n}\nexport const refreshToken = <T>() => fetch(AUTH_TOKEN_URL, {\n  method: 'POST',\n  headers: {'Content-Type': 'application/json',},\n  body: JSON.stringify({token: localStorage.getItem('refreshToken')}),\n}).then((res) => checkReponse<T>(res))\n\nexport const fetchDataWithTokens = <T>(url: string, data: T) => fetch(url, {\n  method: 'POST',\n  body: JSON.stringify(data),\n  headers: {'Content-Type': 'application/json'}\n}).then((res) => {\n  if (!res.ok) return res.json().then((err) => Promise.reject(err))\n  return res.json()\n}).then((data) => {\n  const { accessToken, refreshToken }: ITokens = data\n  localStorage.setItem('accessToken', accessToken)\n  localStorage.setItem('refreshToken', refreshToken)\n  return data\n})\n\nexport const fetchPost = <T>(url: string, data: T) => fetch(url, {\n  method: 'POST',\n  body: JSON.stringify(data),\n  headers: {'Content-Type': 'application/json'}\n}).then(checkReponse)\n\nexport const fetchWithRefresh = async (url: string, options: any) => {\n  try {\n    const res = await fetch(url, options)\n    return await checkReponse(res)\n  } catch (err) {\n    if ((err as Error).message === 'jwt expired') {\n      const refreshData: ITokens = await refreshToken<ITokens>()\n      localStorage.setItem('refreshToken', refreshData.refreshToken)\n      localStorage.setItem('accessToken', refreshData.accessToken)\n      options.headers.authorization = refreshData.accessToken\n      const res = await fetch(url, options)\n      return await checkReponse(res)\n    } else {\n      return Promise.reject(err)\n    }\n  }\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../../../types/store'\nimport { IBurgerIngredient } from '../../../types/types'\nimport { INGREDIENTS_URL, checkReponse } from '../../../utils/api'\n\nexport const fetchIngredients = createAsyncThunk(\n  'ingredients/fetchIngredientsStatus',\n  async () => fetch(INGREDIENTS_URL).then(checkReponse)\n)\n\ninterface IIngredients {\n  request: boolean;\n  error?: boolean | string;\n  ingredients: IBurgerIngredient[]\n}\n\nconst initialState: IIngredients = {\n  request: false,\n  error: false,\n  ingredients: [],\n}\n\nexport const ingredientsSlice = createSlice({\n  name: 'ingredients',\n  initialState,\n  reducers: {\n  },\n  extraReducers: {\n    [fetchIngredients.pending.type]: (state, action) => {\n      state.request = true\n      state.error = false\n    },\n    [fetchIngredients.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.ingredients = action.payload.data\n    },\n    [fetchIngredients.rejected.type]: (state, action) => {\n      state.request = false\n      state.ingredients = []\n      state.error = action.error.message\n    },\n  }\n})\n\nexport const selectIngredients = (state: RootState) => state.ingredients\n\nexport default ingredientsSlice.reducer\n","import { FC } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { selectIngredients } from '../../../store/slices/ingredients/ingredientsSlice'\nimport styles from './IngredientDetails.module.css'\nimport { IBurgerIngredient } from '../../../types/types'\n\ninterface IIngredientInfo {\n  id: number;\n  name: string;\n  key: string;\n}\n\nconst IngredientDetails: FC = () => {\n  const { id }: { id: string} = useParams()\n  const { ingredients } = useSelector(selectIngredients)\n  const detailIngredient = ingredients.find((ingredient: IBurgerIngredient): boolean => ingredient._id === id)\n\n  const list: IIngredientInfo[] = [\n    {id: 0, name: 'Калории,ккал', key: 'calories'},\n    {id: 1, name: 'Белки, г', key: 'proteins'},\n    {id: 2, name: 'Жиры, г', key: 'fat'},\n    {id: 3, name: 'Углеводы, г', key: 'carbohydrates'},\n  ]\n\n  if (!detailIngredient) {\n    return null\n  }\n\n  return (\n    <div className={styles.ingredient}>\n      <img className={`${styles.image} mb-4`} src={detailIngredient.image_large} alt={detailIngredient.name} />\n      <h3 className=\"text text_type_main-medium mb-8\">\n        {detailIngredient.name}\n      </h3>\n      <ul className={styles.list}>\n        {list.map((item) => (\n          <li\n            className={`${styles.item} text text_color_inactive`}\n            key={item.id}\n          >\n            <span className=\"text_type_main-default mb-2\">\n              {item.name}\n            </span>\n            <span className=\"text_type_digits-default\">\n              {detailIngredient[item.key]}\n            </span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default IngredientDetails\n","import { FC } from 'react'\nimport styles from './ModalOverlay.module.css'\n\nconst ModalOverlay: FC<{ close: () => void }> = ({ close }) => {\n  return (\n    <div className={styles.overlay} onClick={close}>\n    </div>\n  )\n}\n\nexport default ModalOverlay\n","import { useEffect, FC } from 'react'\nimport ReactDOM from 'react-dom'\nimport ModalOverlay from '../modal-overlay/ModalOverlay'\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport styles from './Modal.module.css'\nimport { IModalProps } from '../../../types/types'\n\nconst modalContainer = document.getElementById('modal') as HTMLDivElement\n\nconst Modal: FC<IModalProps> = ({ title, children, close, classes }) => {\n  useEffect(() => {\n    document.addEventListener('keydown', closeModalByEscape)\n    return () => {\n      document.removeEventListener('keydown', closeModalByEscape)\n    }\n    // eslint-disable-next-line\n  }, [])\n\n  const closeModalByEscape = (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      close()\n    }\n  }\n\n  return ReactDOM.createPortal((\n    <div className={styles.modal}>\n      <div className={`${styles.content} ${classes} pl-10 pr-10`}>\n        <div className={styles.head}>\n          {title && (\n            <div className=\"text text_type_main-large\">\n              {title}\n            </div>\n          )}\n          <button className={styles.close} onClick={close}>\n            <CloseIcon type=\"primary\" />\n          </button>\n        </div>\n        {children}\n      </div>\n      <ModalOverlay close={close} />\n    </div>),\n    modalContainer\n  )\n}\n\nexport default Modal\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../../../types/store'\nimport { IStringObject } from '../../../types/types'\n\nimport {\n  AUTH_LOGIN_URL,\n  AUTH_REGISTER_URL,\n  PASSWORD_FORGOT_URL,\n  PASSWORD_RESET_URL,\n  GET_USER_URL,\n  PATCH_USER_URL,\n  AUTH_LOGOUT_URL,\n  fetchDataWithTokens,\n  fetchPost,\n  fetchWithRefresh,\n} from '../../../utils/api'\n\nexport const registerUser = createAsyncThunk(\n 'auth/registerUser',\n  async (user: IStringObject) => fetchDataWithTokens(AUTH_REGISTER_URL, user)\n)\nexport const authUser = createAsyncThunk(\n  'auth/authUser',\n  async (user: IStringObject) => fetchDataWithTokens(AUTH_LOGIN_URL, user)\n)\nexport const canResetPassword = createAsyncThunk(\n  'auth/canResetPassword',\n  async (data: IStringObject) => fetchPost(PASSWORD_FORGOT_URL, data) as any\n)\nexport const resetPassword = createAsyncThunk(\n  'auth/resetPassword',\n  async (data: IStringObject) => fetchPost(PASSWORD_RESET_URL, data) as any\n)\nexport const getUser = createAsyncThunk(\n  'auth/getUser',\n  async (token: string) => fetchWithRefresh(GET_USER_URL, {\n    headers: {'authorization': token}\n  })\n) as any\nexport const updateUser = createAsyncThunk(\n  'auth/updateUser',\n  async (data: IStringObject) => fetchWithRefresh(PATCH_USER_URL, {\n    method: 'PATCH',\n    body: JSON.stringify(data),\n    headers: {\n      'authorization': localStorage.getItem('accessToken'),\n      'Content-Type': 'application/json'\n    }\n  }) as any\n)\nexport const logout = createAsyncThunk(\n  'auth/logout',\n  async () => fetch(AUTH_LOGOUT_URL, {\n    method: 'POST',\n    body: JSON.stringify({token: localStorage.getItem('refreshToken')}),\n    headers: {'Content-Type': 'application/json'}\n  }).then((res) => {\n    if (!res.ok) return res.json().then((err) => Promise.reject(err))\n    localStorage.removeItem('accessToken')\n    localStorage.removeItem('refreshToken')\n    return res.json()\n  })\n)\n\ninterface IAuth {\n  request: boolean,\n  error: string,\n  user: {\n    email: string,\n    name: string,\n  },\n  passwordReset: boolean,\n}\n\nconst initialState: IAuth = {\n  request: false,\n  error: '',\n  user: {\n    email: '',\n    name: '',\n  },\n  passwordReset: false,\n}\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    // registerUser\n    [registerUser.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [registerUser.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.user = action.payload.user\n    },\n    [registerUser.rejected.type]: (state, action) => {\n      state.request = false\n      state.user = {...initialState.user}\n      state.error = action.error.message\n    },\n    // authUser\n    [authUser.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [authUser.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.passwordReset = false\n      state.user = action.payload.user\n    },\n    [authUser.rejected.type]: (state, action) => {\n      state.request = false\n      state.user = {...initialState.user}\n      state.error = action.error.message\n    },\n    // canResetPassword\n    [canResetPassword.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [canResetPassword.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.passwordReset = action.payload.success\n    },\n    [canResetPassword.rejected.type]: (state, action) => {\n      state.request = false\n      state.error = action.error.message\n      state.passwordReset = false\n    },\n    // resetPassword\n    [resetPassword.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [resetPassword.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.passwordReset = false\n    },\n    [resetPassword.rejected.type]: (state, action) => {\n      state.request = false\n      state.error = action.error.message\n    },\n    // getUser\n    [getUser.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [getUser.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.passwordReset = false\n      state.user = action.payload.user\n    },\n    [getUser.rejected.type]: (state) => {\n      state.request = false\n      state.user = {...initialState.user}\n    },\n    // updateUser\n    [updateUser.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [updateUser.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.user = action.payload.user\n    },\n    [updateUser.rejected.type]: (state, action) => {\n      state.request = false\n      state.error = action.error.message\n      state.user = {...initialState.user}\n    },\n    // logout\n    [logout.pending.type]: (state) => {\n      state.request = true\n      state.error = ''\n    },\n    [logout.fulfilled.type]: (state) => {\n      state.request = false\n      state.user = {...initialState.user}\n    },\n    [logout.rejected.type]: (state, action) => {\n      state.request = false\n      state.error = action.error.message\n    },\n  }\n})\n\nexport const selectAuth = (state: RootState) => state.auth\n\nexport default authSlice.reducer\n","import { FC } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport { selectAuth } from '../../store/slices/auth/authSlice'\nimport { IProtectedRouteProps } from '../../types/types'\n\nconst ProtectedRoute: FC<IProtectedRouteProps> = ({ children, ...rest }) => {\n  const { user } = useSelector(selectAuth)\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => !!user.name ? (\n        children\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            state: { from: location }\n          }}\n        />\n      )}\n    />\n  )\n}\n\nexport default ProtectedRoute\n","import { FC } from 'react'\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components'\nimport styles from './Tabs.module.css'\nimport { ITabsProps } from '../../../types/types'\n\nconst Tabs: FC<ITabsProps> = ({ tabs, currentTab, setCurrentTab }) => {\n  return (\n    <div className={styles.controls}>\n      {tabs.map((tab) => (\n        <Tab key={tab} value={tab} active={currentTab === tab} onClick={setCurrentTab}>\n          {tab}\n        </Tab>\n      ))}\n    </div>\n  )\n}\n\nexport default Tabs\n","import { v4 as uuidv4 } from 'uuid';\nimport { formatRelative } from 'date-fns'\nimport { ru } from 'date-fns/locale'\nimport { IStringObject, ITabNode } from '../types/types'\n\nexport const getId = () => {\n  return uuidv4()\n}\n\nexport const getDate = (date: string): string => {\n  return formatRelative(new Date(date), new Date(), { locale: ru })\n}\n\nexport const getGroupedObjectByKey = <T>(arr: T[], key: string) => {\n  return arr.reduce((acc: any, val: any) => {\n    (acc[val[key]] || (acc[val[key]] = [])).push(val)\n    return acc\n  }, {})\n}\n\nexport const getTranslate: IStringObject = {\n  'Булки': 'bun',\n  'Начинки': 'main',\n  'Соусы': 'sauce',\n  'bun': 'Булки',\n  'main': 'Начинки',\n  'sauce': 'Соусы',\n  'created': 'Создан',\n  'pending': 'Готовится',\n  'done': 'Выполнен',\n  '_created': 'Создан:',\n  '_pending': 'В работе:',\n  '_done': 'Готовы:',\n}\n\nexport const scrollTo = (element: HTMLElement, container: HTMLElement) => {\n  const offset = element.offsetTop\n  container.scrollTo({\n    top: offset,\n    behavior: \"smooth\"\n  })\n}\n\nexport const getVisibleNodeOnScroll = (\n  nodeList: ITabNode[],\n  container: HTMLElement | null,\n  indent: number = 100\n) => {\n  if (!container) return\n  const containerTopOffset = container.getBoundingClientRect().top + indent\n  for (let i = nodeList.length - 1; i >= 0; i--) {\n    const node = nodeList[i]\n    if (node.$el) {\n      const nodeTopOffset = node.$el.getBoundingClientRect().top\n      if (nodeTopOffset < containerTopOffset) {\n        return node\n      }\n    }\n  }\n}\n","import { createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../../../types/store'\nimport { IBurgerIngredient } from '../../../types/types'\n\ninterface IBurgerConstructor {\n  ingredients: IBurgerIngredient[]\n  bun: IBurgerIngredient | null\n}\n\nconst initialState: IBurgerConstructor = {\n  ingredients: [],\n  bun: null,\n}\n\nconst burgerConstructorSlice = createSlice({\n  name: 'burgerConstructor',\n  initialState,\n  reducers: {\n    addBun: (state, action) => {\n      state.bun = action.payload\n    },\n    addIngridient: (state, action) => {\n      state.ingredients.push(action.payload)\n    },\n    removeIngredient: (state, action) => {\n      state.ingredients = [\n        ...state.ingredients.filter((ingridient) => ingridient.id !== action.payload)\n      ]\n    },\n    removeAllIngredients: (state) => {\n      state.ingredients = []\n      state.bun = null\n    },\n    changeItemsPosition: (state, action) => {\n      const ingredients = [...state.ingredients]\n      ingredients.splice(action.payload.dragIndex, 0, ingredients.splice(action.payload.hoverIndex, 1)[0])\n      state.ingredients = ingredients\n    }\n  },\n})\n\nexport const {\n  addIngridient,\n  removeIngredient,\n  addBun,\n  removeAllIngredients,\n  changeItemsPosition,\n} = burgerConstructorSlice.actions\n\nexport const selectBurgerConstructor = (state: RootState) => state.burgerConstructor\n\nexport default burgerConstructorSlice.reducer\n","import { FC } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components'\nimport styles from './IngredientItem.module.css'\nimport { getId } from '../../../utils/utils'\nimport { useDragged } from '../../../hooks/useDragged'\n// redux\nimport { useDispatch } from 'react-redux'\nimport {\n  addIngridient,\n  addBun\n} from '../../../store/slices/burger-constructor/burgerConstructorSlice'\nimport { IIngredientItemProps } from '../../../types/types'\n\nconst IngredientItem: FC<IIngredientItemProps> = ({ item, count }) => {\n  const location = useLocation()\n  const dispatch = useDispatch()\n\n  const { isDragging, drag } = useDragged(item, item.type, {\n    onDragEnd: () => {\n      if (item.type === 'bun') {\n        dispatch(addBun({ ...item, id: getId() }))\n        return\n      }\n      dispatch(addIngridient({ ...item, id: getId() }))\n    }\n  })\n\n  const borderColor: string = isDragging ? 'lime' : ''\n\n  return (\n    <Link\n      to={{\n        pathname: `/ingredients/${item._id}`,\n        state: { background: location }\n      }}\n      ref={drag}\n      className={styles.item}\n      style={{ borderColor }}\n      data-test={`ingredient-item-${item.type}`}\n    >\n      {count?.[item._id] && (\n        <div className={styles.counter}>\n          <Counter count={count[item._id]} size=\"default\" />\n        </div>\n      )}\n      <img\n        className={`${styles.image} mb-1`}\n        src={item.image}\n        alt={item.name}\n        />\n      <div className={`${styles.price} mb-1`}>\n        <span className=\"text text_type_digits-default mr-2\">\n          {item.price}\n        </span>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <h4 className={`${styles.name} text text_type_main-default`}>\n        {item.name}\n      </h4>\n    </Link>\n  )\n}\n\nexport default IngredientItem\n","import { ConnectDragSource, useDrag } from 'react-dnd';\n\ninterface ICallBacks {\n  onDragEnd?: () => void;\n}\n\ninterface IDragged {\n  isDragging: boolean;\n  drag: ConnectDragSource;\n}\n\nexport const useDragged = (item: any, type: string, { onDragEnd }: ICallBacks = {}): IDragged => {\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type,\n    item,\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult()\n      if (item && dropResult && (typeof onDragEnd === 'function')) {\n        onDragEnd()\n      }\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  }))\n\n  return {\n    isDragging,\n    drag\n  }\n}\n","import { FC } from 'react'\nimport IngredientItem from '../ingredient-item/IngredientItem'\nimport styles from './IngredientList.module.css'\nimport { IIngredientListProps } from '../../../types/types'\n\nconst IngredientList: FC<IIngredientListProps> = ({ id, title, list, count }) => {\n  return (\n    <div id={id} className=\"mb-10\">\n      <h3 className=\"text text_type_main-medium mb-6\">\n        {title}\n      </h3>\n      <div className={`${styles.list} pl-4 pr-4`}>\n        {list.map((item) => (\n          <IngredientItem\n            key={item._id}\n            count={count}\n            item={item}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default IngredientList\n","import { AsyncThunkAction, unwrapResult } from '@reduxjs/toolkit';\nimport { useCallback } from 'react';\nimport {\n  TypedUseSelectorHook,\n  useSelector as selectorHook,\n  useDispatch as dispatchHook\n} from 'react-redux';\nimport { AppDispatch, RootState } from '../types/store';\n\nexport const useDispatch = () => dispatchHook<AppDispatch>();\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n\nexport const useUnwrapAsyncThunk = () => {\n  const dispatch = useDispatch();\n  return useCallback(\n    <R extends any>(asyncThunk: AsyncThunkAction<R, any, any>): Promise<R> =>\n      dispatch(asyncThunk).then(unwrapResult),\n    [dispatch]\n  );\n};\n","import { FC, useState, useEffect, useRef, useMemo } from 'react'\nimport Tabs from '../UI/tabs/Tabs'\nimport IngredientList from '../ingredient/ingredient-list/IngredientList'\nimport {\n  getGroupedObjectByKey,\n  getTranslate,\n  getVisibleNodeOnScroll,\n  scrollTo\n} from '../../utils/utils'\nimport styles from './BurgerIngredients.module.css'\n// redux\nimport { useSelector, useDispatch } from '../../hooks/storeHooks'\nimport { selectIngredients } from '../../store/slices/ingredients/ingredientsSlice'\nimport { selectBurgerConstructor } from '../../store/slices/burger-constructor/burgerConstructorSlice'\nimport { IBurgerIngredient, ITabNode } from '../../types/types'\n\nconst BurgerIngredients: FC = () => {\n  const [currentTab, setCurrentTab] = useState('')\n  const [tabs, setTabs] = useState<Array<string>>([])\n  const burgerIngredientsList = useRef<HTMLDivElement>(null)\n\n  const dispatch = useDispatch()\n  const { ingredients } = useSelector(selectIngredients)\n  const { bun, ingredients: constructorIngredients } = useSelector(selectBurgerConstructor)\n\n  const groupedIngredients = useMemo(() => {\n    const groupData = getGroupedObjectByKey<IBurgerIngredient>(ingredients, 'type')\n    setTabs(Object.keys(groupData).map((key) => getTranslate[key]))\n    return groupData\n  }, [ingredients])\n\n  const ingredientsCount = useMemo(() => {\n    const list: any = constructorIngredients.reduce((acc: any, val: IBurgerIngredient) => {\n      acc[val._id] = (acc[val._id] || 0) + 1\n      return acc;\n    }, {})\n    if (bun) {\n      list[bun._id] = 2\n    }\n    return list\n  }, [constructorIngredients, bun])\n\n  const setActiveTabOnScroll = () => {\n    const tabNodes: ITabNode[] = tabs.map((tab) => ({ name: tab, $el: document.getElementById(getTranslate[tab]) }))\n    const tab: ITabNode | undefined = getVisibleNodeOnScroll(tabNodes, burgerIngredientsList.current)\n    if (tab) {\n      setCurrentTab(tab.name)\n    }\n  }\n  const showActiveTab = (tab: string) => {\n    const tabElement: HTMLElement | null = document.getElementById(getTranslate[tab])\n    if (tabElement && burgerIngredientsList.current) {\n      scrollTo(tabElement, burgerIngredientsList.current)\n    }\n  }\n\n  useEffect(() => {\n    const list: HTMLDivElement | null = burgerIngredientsList.current\n    if (list) {\n      list.addEventListener('scroll', setActiveTabOnScroll)\n    }\n    return () => {\n      if (list) {\n        list.removeEventListener('scroll', setActiveTabOnScroll)\n      }\n    }\n    // eslint-disable-next-line\n  }, [burgerIngredientsList, tabs])\n\n  return (\n    <div className={styles.container}>\n      <Tabs\n        tabs={tabs}\n        currentTab={currentTab || tabs[0]}\n        setCurrentTab={showActiveTab}\n      />\n      <div\n        ref={burgerIngredientsList}\n        className={`${styles.list} custom-scroll mt-10`}\n      >\n        {tabs.map((tab) => (\n          <IngredientList\n            id={getTranslate[tab]}\n            key={tab}\n            title={tab}\n            count={ingredientsCount}\n            list={groupedIngredients[getTranslate[tab]]}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default BurgerIngredients\n","export default __webpack_public_path__ + \"static/media/done.409b92ac.jpg\";","import { FC } from 'react'\nimport styles from './OrderDetails.module.css'\nimport doneImage from '../../images/done.jpg'\nimport { IOrderDetailsProps } from '../../types/types'\n\nconst OrderDetails: FC<IOrderDetailsProps> = ({ number, name }) => {\n  return (\n    <div className={`${styles.order} pt-9`}>\n      <span className={`${styles.number} text text_type_digits-large mb-8`}>\n        {number}\n      </span>\n      <span className=\"text text_type_main-medium mb-15\">\n        {name}\n      </span>\n      <img className={`${styles.image} mb-15`} src={doneImage} alt=\"done\" />\n      <span className=\"text text_type_main-default mb-2\">\n        Ваш заказ начали готовить\n      </span>\n      <span className=\"text text_type_main-default text_color_inactive\">\n        Дождитесь готовности на орбитальной станции\n      </span>\n    </div>\n  )\n}\n\nexport default OrderDetails\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { checkReponse, fetchWithRefresh, ORDER_URL } from '../../../utils/api'\nimport { RootState } from '../../../types/store'\nimport { IOrder } from '../../../types/types'\n\nexport const fetchOrder = createAsyncThunk(\n  'order/fetchOrderStatus',\n  async (data: {ingredients: string[]}) => fetchWithRefresh(ORDER_URL, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'authorization': localStorage.getItem('accessToken'),\n      'Content-Type': 'application/json'\n    }\n  }) as any\n)\n\nexport const fetchOrderInfo = createAsyncThunk(\n  'order/fetchOrderInfo',\n  async (id: string) => fetch(`${ORDER_URL}/${id}`).then(checkReponse)\n)\n\ninterface IOrderSlice {\n  request: boolean;\n  error: boolean | string;\n  order: {\n    number: number;\n    name: string;\n  },\n  info: IOrder | null,\n}\n\nconst initialState: IOrderSlice = {\n  request: false,\n  error: false,\n  order: {\n    number: NaN,\n    name: '',\n  },\n  info: null,\n}\n\nconst orderSlice = createSlice({\n  name: 'order',\n  initialState,\n  reducers: {\n    clearOrder: (state) => {\n      state.info = null\n    }\n  },\n  extraReducers: {\n    [fetchOrder.pending.type]: (state) => {\n      state.request = true\n      state.error = false\n    },\n    [fetchOrder.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.order.name = action.payload.order.name\n      state.order.number = action.payload.order.number\n    },\n    [fetchOrder.rejected.type]: (state, action) => {\n      state.request = false\n      state.order = {...initialState.order}\n      state.error = action.error.message\n    },\n\n    [fetchOrderInfo.pending.type]: (state) => {\n      state.request = true\n      state.error = false\n    },\n    [fetchOrderInfo.fulfilled.type]: (state, action) => {\n      state.request = false\n      state.info = action.payload.orders[0]\n    },\n    [fetchOrderInfo.rejected.type]: (state, action) => {\n      state.request = false\n      state.info = null\n      state.error = action.error.message\n    },\n  }\n})\n\nexport const { clearOrder } = orderSlice.actions\n\nexport const selectOrder = (state: RootState) => state.order\n\nexport default orderSlice.reducer\n","import { useEffect } from 'react'\nimport { useDispatch, useSelector } from './storeHooks'\nimport { useLocation } from 'react-router-dom'\nimport { getUser, selectAuth } from '../store/slices/auth/authSlice'\n\ninterface ILocation {\n  state?: Location & {\n    from?: Location\n  }\n}\n\nexport const useAuth = () => {\n  const dispatch = useDispatch()\n  const { user } = useSelector(selectAuth)\n  const location: ILocation = useLocation()\n  const from = location.state?.from?.pathname\n\n  useEffect(() => {\n    const refreshToken: string | null = localStorage.getItem('refreshToken')\n    const accessToken: string | null = localStorage.getItem('accessToken')\n    if (refreshToken && accessToken) {\n      dispatch(getUser(accessToken))\n    }\n    // eslint-disable-next-line\n  }, [])\n\n  return {\n    user,\n    from,\n    isAuth: !!user.name,\n  }\n}\n","import { FC } from 'react'\nimport Modal from '../modal/modal/Modal'\nimport OrderDetails from '../order-details/OrderDetails'\nimport { Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport styles from './Checkout.module.css'\nimport { useDisclosure } from '../../hooks/useDisclosure'\n// redux\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchOrder, selectOrder } from '../../store/slices/order/orderSlice'\nimport { removeAllIngredients, selectBurgerConstructor } from '../../store/slices/burger-constructor/burgerConstructorSlice'\nimport { useAuth } from '../../hooks/useAuth'\nimport { useHistory } from 'react-router-dom'\nimport { ICheckoutProps } from '../../types/types'\nimport { useUnwrapAsyncThunk } from '../../hooks/storeHooks';\n\nconst Checkout: FC<ICheckoutProps> = ({ totalPrice, orderList }) => {\n  const history = useHistory()\n  const unwrapAsyncThunk = useUnwrapAsyncThunk()\n\n  const { isAuth } = useAuth()\n  const { isOpen, open, close } = useDisclosure(false, {\n    onClose: () => {\n      dispatch(removeAllIngredients())\n    }\n  })\n  const { request, order } = useSelector(selectOrder)\n  const { bun } = useSelector(selectBurgerConstructor)\n  const dispatch = useDispatch()\n\n  const sendOder = () => {\n    if (!isAuth) {\n      history.push('/login')\n      return\n    }\n\n    if (orderList && orderList.length > 1 && bun) {\n      unwrapAsyncThunk(fetchOrder({ingredients: orderList})).then(({success}) => {\n        if (success) {\n          open()\n        }\n      })\n    }\n  }\n\n  return (\n    <div className={styles.checkout}>\n      <div className={`${styles.price} mr-10`}>\n        <span className=\"text text_type_digits-medium mr-2\">\n          {totalPrice || 0}\n        </span>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <Button\n        type=\"primary\"\n        size=\"large\"\n        onClick={sendOder}\n      >\n        {request ? 'Обрабатываем...' : 'Оформить заказ'}\n      </Button>\n\n      {isOpen && (\n        <Modal\n          close={close}\n          classes=\"pt-15 pb-30\"\n        >\n          <OrderDetails number={order.number} name={order.name} />\n        </Modal>\n      )}\n    </div>\n  )\n}\n\nexport default Checkout\n","import { useState } from 'react'\n\ninterface ICallBacks {\n  onOpen?: () => void;\n  onClose?: () => void;\n}\n\ninterface IDisclosure {\n  isOpen: boolean;\n  toggle: () => void;\n  open: () => void;\n  close: () => void;\n}\n\nexport const useDisclosure = (initialState: boolean = false, { onOpen, onClose }: ICallBacks): IDisclosure => {\n  const [isOpen, setIsOpen] = useState(initialState)\n\n  const open = () => {\n    setIsOpen(true)\n    if (typeof onOpen === 'function') {\n      onOpen()\n    }\n  }\n\n  const close = () => {\n    setIsOpen(false)\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n  }\n\n  const toggle = () => {\n    isOpen ? close() : open()\n  }\n\n  return {\n    isOpen,\n    toggle,\n    open,\n    close\n  }\n}\n","import { ConnectDropTarget, useDrop } from 'react-dnd'\n\ninterface IDropped {\n  drop: ConnectDropTarget;\n  canDrop: boolean;\n  isOver: boolean;\n}\n\nexport const useDropped = (accept: string[] | string): IDropped => {\n  const [{ canDrop, isOver }, drop] = useDrop(() => ({\n    accept: Array.isArray(accept) ? [...accept] : accept,\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  }))\n\n  return {\n    drop,\n    canDrop,\n    isOver,\n  }\n}\n","import { FC } from 'react'\nimport styles from './BurgerConstructorPreview.module.css'\nimport { IBurgerConstructorPreviewProps } from '../../../types/types'\n\nconst BurgerConstructorPreview: FC<IBurgerConstructorPreviewProps> = ({ canDrop, isOver, text, type, classes }) => {\n  return (\n    <div className={`\n      burger-constructor-preview\n      ${styles.preview}\n      ${type === 'top' ? styles.previewTop : type === 'bottom' ? styles.previewBottom : ''}\n      ${canDrop ? styles.previewCanDrop : ''}\n      ${isOver ? styles.previewIsOver : ''}\n      ${classes}\n    `}>\n      <p className=\"text text_type_main-default\">\n        {text}\n      </p>\n    </div>\n  )\n}\n\nexport default BurgerConstructorPreview\n","import { FC, useRef } from 'react'\nimport styles from './BurgerConstructorItem.module.css'\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { useDrag, useDrop, XYCoord } from 'react-dnd'\n// redux\nimport { useDispatch } from 'react-redux'\nimport { changeItemsPosition } from '../../../store/slices/burger-constructor/burgerConstructorSlice'\nimport { IBurgerConstructorItemProps, IBurgerIngredient } from '../../../types/types'\n\nconst BurgerConstructorItem: FC<IBurgerConstructorItemProps> = ({ item, icon, handleClose, isLocked, type, index }) => {\n  const dispatch = useDispatch()\n  const ref = useRef<HTMLDivElement> (null)\n  const [, drop] = useDrop({\n    accept: 'constructorItem',\n    hover(item: IBurgerIngredient & {index: number}, monitor) {\n      if (!ref.current) return\n      const dragIndex = item.index\n      const hoverIndex: number | undefined = index\n      if (dragIndex === hoverIndex) return\n      const hoverBoundingRect: DOMRect = ref.current?.getBoundingClientRect()\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      const clientOffset: XYCoord | null = monitor.getClientOffset()\n      if (\n        (dragIndex === undefined)\n        || (hoverIndex === undefined)\n        || (clientOffset === null)\n      ) return\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) return\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) return\n      dispatch(changeItemsPosition({dragIndex, hoverIndex}))\n      item.index = hoverIndex\n    },\n  })\n  const [{ isDragging }, drag] = useDrag({\n    type: 'constructorItem',\n    item: () => ({ ...item, index }),\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  })\n\n  const opacity = isDragging ? 0 : 1\n\n  drag(drop(ref))\n\n  return (\n    <div\n      ref={ref}\n      className={`${styles.item} pr-2`}\n      style={{ opacity }}\n    >\n      {icon && (\n        <div className=\"mr-2\">\n          <DragIcon type=\"primary\" />\n        </div>\n      )}\n      <ConstructorElement\n        type={type}\n        thumbnail={item.image}\n        text={`${item.name} ${type === 'top' ? '(верх)' : type === 'bottom' ? '(низ)' : ''}`}\n        price={item.price}\n        handleClose={handleClose}\n        isLocked={isLocked}\n      />\n    </div>\n  )\n}\n\nexport default BurgerConstructorItem\n","import { FC, useEffect, useMemo } from 'react'\nimport { useSelector, useDispatch } from '../../hooks/storeHooks'\nimport { useHistory } from 'react-router-dom'\nimport Checkout from '../checkout/Checkout'\nimport { useDropped } from '../../hooks/useDropped'\nimport BurgerConstructorPreview from './burger-constructor-preview/BurgerConstructorPreview'\nimport BurgerConstructorItem from './burger-constructor-item/BurgerConstructorItem'\nimport styles from './BurgerConstructor.module.css'\n// redux\nimport {\n  removeIngredient,\n  selectBurgerConstructor,\n} from '../../store/slices/burger-constructor/burgerConstructorSlice'\nimport { IBurgerIngredient } from '../../types/types'\n\nconst BurgerConstructor: FC = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const { ingredients, bun } = useSelector(selectBurgerConstructor)\n\n  useEffect(() => {\n    history.replace({ state: {} })\n    // eslint-disable-next-line\n  }, [])\n\n  const {\n    drop: ingredientDrop,\n    canDrop: ingredientCanDrop,\n    isOver: ingredientIsOver,\n  } = useDropped(['main', 'sauce'])\n  const {\n    drop: bunTopDrop,\n    canDrop: bunTopCanDrop,\n    isOver: bunTopIsOver,\n  } = useDropped(['bun'])\n  const {\n    drop: bunBottomDrop,\n    canDrop: bunBottomCanDrop,\n    isOver: bunBottomIsOver,\n  } = useDropped(['bun'])\n\n  const {totalPrice, orderList} = useMemo(()=> {\n    const totalPrice = ingredients.reduce((acc, val) => acc + val.price, 0) + (bun ? bun.price * 2 : 0)\n    const orderList = ingredients.map((ingredient) => ingredient._id)\n    if (bun) {\n      orderList.push(bun._id)\n    }\n    return {\n      totalPrice,\n      orderList,\n    }\n  }, [ingredients, bun])\n\n  return (\n    <div>\n      <div className={`${styles.constructor} mb-10`}>\n        <div ref={bunTopDrop} className=\"pl-9\">\n          {bun ? (\n            <BurgerConstructorItem\n              type=\"top\"\n              item={bun}\n              isLocked={true}\n            />\n          ) : (\n            <BurgerConstructorPreview\n              canDrop={bunTopCanDrop}\n              isOver={bunTopIsOver}\n              type=\"top\"\n              text={bunTopCanDrop && bunTopIsOver ? 'Можно бросать 👍' : 'Перетащите булку'}\n            />\n          )}\n        </div>\n\n        <div ref={ingredientDrop} className={`${styles.list} custom-scroll`}>\n          {!ingredients.length && (\n            <BurgerConstructorPreview\n              canDrop={ingredientCanDrop}\n              isOver={ingredientIsOver}\n              text={ingredientCanDrop && ingredientIsOver ? 'Можно бросать 👍' : 'Перетащите ингредиент или соус'}\n              classes=\"ml-9\"\n            />\n          )}\n          {ingredients.map((item, index) => (\n            <BurgerConstructorItem\n              key={item.id}\n              item={item}\n              index={index}\n              icon={true}\n              handleClose={() => dispatch(removeIngredient(item.id))}\n            />\n          ))}\n        </div>\n\n        <div ref={bunBottomDrop} className=\"pl-9\">\n          {bun ? (\n            <BurgerConstructorItem\n              type=\"bottom\"\n              item={bun}\n              isLocked={true}\n            />\n          ) : (\n            <BurgerConstructorPreview\n              canDrop={bunBottomCanDrop}\n              isOver={bunBottomIsOver}\n              type=\"bottom\"\n              text={bunBottomCanDrop && bunBottomIsOver ? 'Можно бросать 👍' : 'Перетащите булку'}\n            />\n          )}\n        </div>\n      </div>\n      <Checkout totalPrice={totalPrice} orderList={orderList} />\n    </div>\n  )\n}\n\nexport default BurgerConstructor\n","import { FC } from 'react'\nimport BurgerIngredients from '../../components/burger-ingredients/BurgerIngredients'\nimport BurgerConstructor from '../../components/burger-constructor/BurgerConstructor'\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nconst CreateBurger: FC = () => {\n  return (\n    <>\n      <h1 style={{ width: '100%' }} className=\"mb-5 text text_type_main-large\">\n        Соберите бургер\n      </h1>\n      <DndProvider backend={HTML5Backend}>\n        <BurgerIngredients />\n        <BurgerConstructor />\n      </DndProvider>\n    </>\n  )\n}\n\nexport default CreateBurger\n","import { FC, FormEvent } from 'react'\nimport styles from './Form.module.css'\nimport { Button } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { IFormProps } from '../../types/types'\n\nconst Form: FC<IFormProps> = ({ children, title, button, load, info, onSubmit }) => {\n\n  const handleSubmit = (event: FormEvent) => {\n    event.preventDefault()\n    if (load || (typeof onSubmit !== 'function')) return\n    onSubmit()\n  }\n\n  return (\n    <>\n      <form\n        className={styles.form}\n        onSubmit={handleSubmit}\n      >\n        {title && (<p className=\"text text_type_main-medium\">{title}</p>)}\n        {children}\n        {button && (<Button>{load ? 'Обрабатываем...' : button}</Button>)}\n      </form>\n      {info && (<div className={`${styles.info} mt-20`}>{info}</div>)}\n    </>\n  )\n}\n\nexport default Form\n","import { FC, ChangeEvent, useState } from 'react'\nimport { Input } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { Link, Redirect } from 'react-router-dom'\nimport Form from '../../components/form/Form'\nimport { useAuth } from '../../hooks/useAuth'\nimport { useDispatch, useSelector } from '../../hooks/storeHooks'\nimport { authUser, selectAuth } from '../../store/slices/auth/authSlice'\nimport { IInput, IStringObject } from '../../types/types'\n\nconst Login: FC = () => {\n  const dispatch = useDispatch()\n  const [values, setValues] = useState({email: '', password: ''})\n  const [visiblePassword, setVisiblePassword] = useState(false)\n  const {request, error} = useSelector(selectAuth)\n  const {isAuth, from} = useAuth()\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { name, value }: IInput = event.target\n    setValues({...values, [name]: value})\n  }\n\n  const handleSubmit = () => {\n    const user: IStringObject = {\n      email: values.email,\n      password: values.password,\n    }\n    dispatch(authUser(user))\n  }\n\n  if (isAuth) {\n    return (\n      <Redirect to={ from || '/' }/>\n    )\n  }\n\n  const info = (<>\n    <p className=\"text text_type_main-small text_color_inactive mb-4\">\n      Вы — новый пользователь?\n      <Link className=\"link\" to=\"/register\">Зарегистрироваться</Link>\n    </p>\n    <p className=\"text text_type_main-small text_color_inactive\">\n      Забыли пароль? Восстановить пароль\n      <Link className=\"link\" to=\"/forgot-password\">Восстановить пароль</Link>\n    </p>\n  </>)\n\n  return (\n    <div className=\"container flex-center\">\n      <Form\n        title=\"Вход\"\n        button=\"Войти\"\n        load={request}\n        onSubmit={handleSubmit}\n        info={info}\n      >\n        <Input\n          type=\"email\"\n          value={values.email}\n          placeholder=\"E-mail\"\n          onChange={onChange}\n          name=\"email\"\n          error={!!error}\n        />\n        <Input\n          type={visiblePassword ? 'text' : 'password'}\n          value={values.password}\n          placeholder=\"Пароль\"\n          onChange={onChange}\n          icon={visiblePassword ? 'HideIcon' : 'ShowIcon'}\n          onIconClick={() => setVisiblePassword(!visiblePassword)}\n          name=\"password\"\n          error={!!error}\n          errorText={error ? error : ''}\n        />\n      </Form>\n    </div>\n  )\n}\n\nexport default Login\n","import { FC, useState, ChangeEvent } from 'react'\nimport { Input } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { Link, Redirect } from 'react-router-dom'\nimport Form from '../../components/form/Form'\nimport { useDispatch, useSelector } from '../../hooks/storeHooks'\nimport { registerUser, selectAuth } from '../../store/slices/auth/authSlice'\nimport { useAuth } from '../../hooks/useAuth'\nimport { IInput, IStringObject } from '../../types/types'\n\nconst Register: FC = () => {\n  const dispatch = useDispatch()\n  const [values, setValues] = useState({name: '', email: '', password: ''})\n  const [visiblePassword, setVisiblePassword] = useState(false)\n  const {request, error} = useSelector(selectAuth)\n  const {isAuth, from} = useAuth()\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { name, value }: IInput = event.target\n    setValues({...values, [name]: value})\n  }\n\n  const handleSubmit = () => {\n    const user: IStringObject = {\n      name: values.name,\n      email: values.email,\n      password: values.password,\n    }\n    dispatch(registerUser(user))\n  }\n\n  if (isAuth) {\n    return (\n      <Redirect to={ from || '/' }/>\n    )\n  }\n\n  const info = (\n    <p className=\"text text_type_main-small text_color_inactive mb-4\">\n      Уже зарегистрированы?\n      <Link className=\"link\" to=\"/login\">Войти</Link>\n    </p>\n  )\n\n  return (\n    <div className=\"container flex-center\">\n      <Form\n        title=\"Регистрация\"\n        button=\"Зарегистрироваться\"\n        load={request}\n        onSubmit={handleSubmit}\n        info={info}\n      >\n        <Input\n          type=\"text\"\n          value={values.name}\n          placeholder=\"Имя\"\n          onChange={onChange}\n          name=\"name\"\n          error={!!error}\n        />\n        <Input\n          type=\"email\"\n          value={values.email}\n          placeholder=\"E-mail\"\n          onChange={onChange}\n          name=\"email\"\n          error={!!error}\n        />\n        <Input\n          type={visiblePassword ? 'text' : 'password'}\n          value={values.password}\n          placeholder=\"Пароль\"\n          onChange={onChange}\n          icon={visiblePassword ? 'HideIcon' : 'ShowIcon'}\n          onIconClick={() => setVisiblePassword(!visiblePassword)}\n          name=\"password\"\n          error={!!error}\n          errorText={error ? error : ''}\n        />\n      </Form>\n    </div>\n  )\n}\n\nexport default Register\n\n","import { FC, useState } from 'react'\nimport { Input } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport Form from '../../components/form/Form'\nimport { useAuth } from '../../hooks/useAuth'\nimport { useUnwrapAsyncThunk, useSelector } from '../../hooks/storeHooks'\nimport { canResetPassword, selectAuth } from '../../store/slices/auth/authSlice'\n\nconst ForgotPassword: FC = () => {\n  const unwrapAsyncThunk = useUnwrapAsyncThunk()\n  const history = useHistory()\n  const [email, setEmail] = useState('')\n  const {request, error} = useSelector(selectAuth)\n  const {isAuth, from} = useAuth()\n\n  if (isAuth) {\n    return (\n      <Redirect to={ from || '/' }/>\n    )\n  }\n\n  const handleSubmit = () => {\n    unwrapAsyncThunk(canResetPassword({email})).then(({success}) => {\n      if (success) history.push('/reset-password')\n    })\n  }\n\n  const info = (\n    <p className=\"text text_type_main-small text_color_inactive mb-4\">\n      Вспомнили пароль?\n      <Link className=\"link\" to=\"/login\">Войти</Link>\n    </p>\n  )\n\n  return (\n    <div className=\"container flex-center\">\n      <Form\n        title=\"Восстановление пароля\"\n        button=\"Восстановить\"\n        load={request}\n        onSubmit={handleSubmit}\n        info={info}\n      >\n        <Input\n          type=\"email\"\n          value={email}\n          placeholder=\"Укажите e-mail\"\n          onChange={e => setEmail(e.target.value)}\n          name=\"email\"\n          error={!!error}\n          errorText={error ? error : ''}\n        />\n      </Form>\n    </div>\n  )\n}\n\nexport default ForgotPassword\n","import { FC, useState, ChangeEvent } from 'react'\nimport { Input } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport Form from '../../components/form/Form'\nimport { useAuth } from '../../hooks/useAuth'\nimport { useUnwrapAsyncThunk, useSelector } from '../../hooks/storeHooks'\nimport { resetPassword, selectAuth } from '../../store/slices/auth/authSlice'\nimport { IInput, IStringObject } from '../../types/types'\n\nconst ResetPassword: FC = () => {\n  const unwrapAsyncThunk = useUnwrapAsyncThunk()\n  const history = useHistory()\n  const [values, setValues] = useState({code: '', password: ''})\n  const [visiblePassword, setVisiblePassword] = useState(false)\n  const {request, passwordReset, error} = useSelector(selectAuth)\n  const {isAuth, from} = useAuth()\n\n  if (isAuth || !passwordReset) {\n    return (\n      <Redirect to={ from || '/' }/>\n    )\n  }\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { name, value }: IInput = event.target\n    setValues({...values, [name]: value})\n  }\n\n  const handleSubmit = () => {\n    const data: IStringObject = {\n      password: values.password,\n      token: values.code\n    }\n    unwrapAsyncThunk(resetPassword(data)).then(({success}) => {\n      if (success) history.push('/login')\n    })\n  }\n\n  const info = (\n    <p className=\"text text_type_main-small text_color_inactive mb-4\">\n      Вспомнили пароль?\n      <Link className=\"link\" to=\"/login\">Войти</Link>\n    </p>\n  )\n\n  return (\n    <div className=\"container flex-center\">\n      <Form\n        title=\"Восстановление пароля\"\n        button=\"Сохранить\"\n        load={request}\n        onSubmit={handleSubmit}\n        info={info}\n      >\n        <Input\n          type={visiblePassword ? 'text' : 'password'}\n          value={values.password}\n          placeholder=\"Введите новый пароль\"\n          onChange={onChange}\n          icon={visiblePassword ? 'HideIcon' : 'ShowIcon'}\n          onIconClick={() => setVisiblePassword(!visiblePassword)}\n          name=\"password\"\n          error={!!error}\n        />\n        <Input\n          type=\"text\"\n          value={values.code}\n          placeholder=\"Введите код из письма\"\n          onChange={onChange}\n          name=\"code\"\n          error={!!error}\n          errorText={error ? error : ''}\n        />\n      </Form>\n    </div>\n  )\n}\n\nexport default ResetPassword\n","import { FC } from 'react'\nimport { useDispatch } from '../../hooks/storeHooks'\nimport { NavLink } from 'react-router-dom'\nimport styles from './Sidebar.module.css'\nimport { logout } from '../../store/slices/auth/authSlice'\n\nconst ProfileNav: FC = () => {\n  const dispatch = useDispatch()\n\n  const handleLogout = () => {\n    dispatch(logout())\n  }\n\n  return (\n    <div className={styles.sidebar}>\n      <NavLink\n        to=\"/profile\"\n        exact\n        activeClassName={styles.active}\n        className={` ${styles.button} text text_type_main-medium`}\n      >\n        Профиль\n      </NavLink>\n      <NavLink\n        to=\"/profile/orders\"\n        exact\n        activeClassName={styles.active}\n        className={`${styles.button} text text_type_main-medium`}\n      >\n        История заказов\n      </NavLink>\n\n      <button\n        className={`${styles.button} text text_type_main-medium`}\n        onClick={handleLogout}\n      >\n        Выход\n      </button>\n\n      <p\n        className=\"text text_type_main-default text_color_inactive mt-20\"\n        style={{opacity: 0.4}}\n      >\n        В этом разделе вы можете\n        <br /> изменить свои персональные данные\n      </p>\n    </div>\n  )\n}\n\nexport default ProfileNav\n","import { FC, ChangeEvent, useCallback, useEffect, useState } from 'react'\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components'\nimport Form from '../../components/form/Form'\nimport Sidebar from '../../components/sidebar/Sidebar'\nimport styles from './Profile.module.css'\nimport { useUnwrapAsyncThunk, useSelector } from '../../hooks/storeHooks'\nimport { updateUser, selectAuth } from '../../store/slices/auth/authSlice'\nimport { IInput } from '../../types/types'\n\nconst Profile: FC = () => {\n  const unwrapAsyncThunk = useUnwrapAsyncThunk()\n  const [values, setValues] = useState({name: '', email: '', password: ''})\n  const [disabled, setDisabled] = useState<any>({name: true, email: true, password: true})\n  const {request, user} = useSelector(selectAuth)\n\n  useEffect(() => {\n    const {name, email} = user\n    setValues({\n      ...values,\n      name,\n      email\n    })\n    // eslint-disable-next-line\n  }, [])\n\n  const userChanged = useCallback(() => {\n    return (\n      (JSON.stringify(user) !== JSON.stringify({email: values.email, name: values.name}))\n      || !!values.password.length\n    )\n  }, [user, values])\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { name, value }: IInput = event.target\n    setValues({...values, [name]: value})\n  }\n\n  const onDisabled = (name: string) => {\n    setDisabled({...disabled, [name]: !disabled[name]})\n  }\n\n  const handleUpdateUser = () => {\n    unwrapAsyncThunk(updateUser(values)).then(({user}) => {\n      const {name, email} = user\n      setValues({\n        name,\n        email,\n        password: '',\n      })\n    })\n  }\n\n  const resetChanges = () => {\n    setValues({\n      name: user.name,\n      email: user.email,\n      password: '',\n    })\n  }\n\n  return (\n    <div className={`${styles.profile} container`}>\n      <Sidebar />\n      {request ? (\n        <p className=\"text text_type_main-medium\">\n          Загрузка...\n        </p>\n      ) : (\n        <div className={styles.form}>\n          <Form>\n            <Input\n              type=\"text\"\n              value={values.name}\n              disabled={disabled.name}\n              placeholder=\"Имя\"\n              onChange={onChange}\n              name=\"name\"\n              icon={disabled.name ? 'EditIcon' : 'CheckMarkIcon'}\n              onIconClick={() => {onDisabled('name')}}\n            />\n            <Input\n              type=\"email\"\n              value={values.email}\n              disabled={disabled.email}\n              placeholder=\"E-mail\"\n              onChange={onChange}\n              name=\"email\"\n              icon={disabled.email ? 'EditIcon' : 'CheckMarkIcon'}\n              onIconClick={() => {onDisabled('email')}}\n            />\n            <Input\n              type={disabled.password ? 'password' : 'text'}\n              value={values.password}\n              disabled={disabled.password}\n              placeholder=\"Пароль\"\n              onChange={onChange}\n              name=\"password\"\n              icon={disabled.password ? 'EditIcon' : 'CheckMarkIcon'}\n              onIconClick={() => {onDisabled('password')}}\n            />\n          </Form>\n          {userChanged() && (\n            <div className=\"mt-6\" style={{display: 'flex', justifyContent: 'flex-end'}}>\n              <Button type=\"secondary\" onClick={resetChanges}>\n                Отмена\n              </Button>\n              <Button onClick={handleUpdateUser}>\n                Сохранить\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Profile\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport styles from './Error.module.css'\n\nconst Error: FC = () => {\n  return (\n    <div className={styles.error}>\n      <p className=\"text text_type_main-large mt-4 mb-8\">\n        Page not found - 404\n      </p>\n      <p className=\"text text_type_main-default\">\n        go to <Link className=\"link\" to=\"/\">home</Link>\n      </p>\n    </div>\n  )\n}\n\nexport default Error\n","import { FC } from 'react'\nimport styles from './Ingredient.module.css'\nimport IngredientDetails from '../../components/ingredient/ingredient-details/IngredientDetails'\n\nconst Ingredients: FC = () => {\n  return (\n    <div className={styles.ingredient}>\n      <IngredientDetails />\n    </div>\n  )\n}\n\nexport default Ingredients\n","import { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { FC, useMemo } from 'react'\nimport styles from './Order.module.css'\nimport { IBurgerIngredient, IOrderProps } from '../../types/types'\nimport { Link, useLocation } from 'react-router-dom'\nimport { getTranslate, getDate } from '../../utils/utils'\n\nconst Order: FC<IOrderProps> = ({ ingredients, name, number, status, updatedAt, allIngredients}) => {\n  const maxCount = 6\n  const location = useLocation()\n\n  const orderIngredients = useMemo(() => {\n    const arr: IBurgerIngredient[] = []\n    ingredients.forEach((ingredient) => {\n      const item = allIngredients.find((item) => item._id === ingredient)\n      if (item?.type === 'bun' && arr.includes(item)) {\n        return\n      }\n      if (item) {\n        arr.push(item)\n      }\n    })\n    return arr\n  }, [allIngredients, ingredients])\n\n  const totalPrice = useMemo(() => {\n    return orderIngredients.reduce((acc, val) => {\n      return acc+= val.type === 'bun' ? val.price * 2 : val.price\n    }, 0)\n  }, [orderIngredients])\n\n  return (\n    <Link\n      to={{\n        pathname: `${location.pathname}/${number}`,\n        state: { background: location }\n      }}\n      className={`${styles.order} p-6 mb-4`}\n    >\n      <div className={`${styles.head} mb-6`}>\n        <p className=\"text text_type_digits-default\">\n        #{number}\n        </p>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {getDate(updatedAt)}\n        </p>\n      </div>\n      <p className=\"text text_type_main-medium\">\n        {name}\n      </p>\n      <p className={`text text_type_main-default mb-6 ${status === 'done' ? 'color-success' : ''}`}>\n        {getTranslate[status]}\n      </p>\n      <div className={styles.footer}>\n        <div className={styles.images}>\n          {orderIngredients.slice(0, maxCount).map((ingredient, index) =>\n            <div\n              key={index}\n              className={styles.imageWrap}\n              style={{zIndex: orderIngredients.length - index}}\n            >\n              {index === maxCount - 1 && orderIngredients.length - maxCount > 0 && (\n                <span className={`${styles.count} text text_type_main-default`}>\n                  +{orderIngredients.length - maxCount}\n                </span>\n              )}\n              <img className={styles.image} src={ingredient.image_mobile} />\n            </div>\n          )}\n        </div>\n        <p className={`${styles.price} text text_type_digits-default`}>\n          <span className=\"mr-2\">\n          {totalPrice}\n          </span>\n          <CurrencyIcon type=\"primary\" />\n        </p>\n      </div>\n    </Link>\n  )\n}\n\nexport default Order\n","import { FC } from 'react'\nimport { useSelector } from '../../hooks/storeHooks'\nimport { selectIngredients } from '../../store/slices/ingredients/ingredientsSlice'\nimport { IOrderTapeProps } from '../../types/types'\nimport Order from '../order/Order'\nimport styles from './OrderTape.module.css'\n\nconst OrderTape: FC<IOrderTapeProps> = ({orders}) => {\n  const { ingredients: allIngredients } = useSelector(selectIngredients)\n\n  return (\n    <div className={`${styles.tape} custom-scroll`}>\n      {orders && orders.map((order, index) => (\n        <Order allIngredients={allIngredients} {...order} key={index} />\n      ))}\n    </div>\n  )\n}\n\nexport default OrderTape\n","import { FC } from 'react'\nimport styles from './Scoreboard.module.css'\nimport { IOrder } from '../../types/types'\nimport { getTranslate } from '../../utils/utils'\n\ninterface IScoreboardProps {\n  total: number | undefined;\n  totalToday: number | undefined;\n  orders: {[key: string]: IOrder[]};\n}\n\nconst Scoreboard: FC<IScoreboardProps> = ({total, totalToday, orders}) => {\n  return (\n    <div className={styles.scoreboard}>\n      <div className={`${styles.progress} mb-15`}>\n        {orders && Object.keys(orders).map((status) => (\n          <div key={status} className={styles.status}>\n            <p className=\"text text_type_main-medium mb-6\">\n              {getTranslate['_'+status]}\n            </p>\n            <div className={`\n              ${styles.list}\n              custom-scroll\n              ${status === 'done' ? 'color-success' : ''}\n            `}>\n              {orders[status].map((item) => (\n                <p className=\"text text_type_digits-default mb-2\" key={item.number}>\n                  {item.number}\n                </p>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n      <div className=\"mb-15\">\n        <p className=\"text text_type_main-medium\">\n          Выполнено за все время:\n        </p>\n        <p className={`${styles.number} text text_type_digits-large`}>\n          {total}\n        </p>\n      </div>\n      <div>\n        <p className=\"text text_type_main-medium\">\n          Выполнено за сегодня:\n        </p>\n        <p className={`${styles.number} text text_type_digits-large`}>\n          {totalToday}\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default Scoreboard\n","import { FC, useEffect, useMemo } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styles from './Feed.module.css'\nimport OrderTape from '../../components/order-tape/OrderTape'\nimport Scoreboard from '../../components/scoreboard/Scoreboard'\nimport { useDispatch } from '../../hooks/storeHooks'\nimport { selectLiveOrders, wsConnect, wsDisconnect } from '../../store/slices/live-orders/liveOrdersSlice'\nimport { GET_ALL_ORDERS } from '../../utils/api'\nimport { useSelector } from 'react-redux'\nimport { IOrder } from '../../types/types'\nimport { getGroupedObjectByKey } from '../../utils/utils'\n\nconst Feed: FC = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const { data } = useSelector(selectLiveOrders)\n\n  useEffect(() => {\n    history.replace({ state: {} })\n    dispatch(wsConnect(GET_ALL_ORDERS))\n    return () => {\n      dispatch(wsDisconnect())\n    }\n  }, [])\n\n  const orders = useMemo(() => {\n    if (data) {\n      return getGroupedObjectByKey<IOrder>(data.orders, 'status')\n    }\n  }, [data?.orders])\n\n  return (\n    <div className=\"container\">\n      <p className=\"text text_type_main-large mb-4\">\n        Лента заказов\n      </p>\n      <div className={styles.row}>\n        <div className={styles.col}>\n          <OrderTape orders={data?.orders || null }/>\n        </div>\n        <div className={styles.col}>\n          <Scoreboard\n            total={data?.total}\n            totalToday={data?.totalToday}\n            orders={orders}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Feed\n","import { FC, useEffect, useMemo } from 'react'\nimport styles from './OrderInfo.module.css'\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { useParams } from 'react-router-dom'\nimport { useDispatch, useSelector } from '../../hooks/storeHooks'\nimport { clearOrder, fetchOrderInfo, selectOrder } from '../../store/slices/order/orderSlice'\nimport { IBurgerIngredient } from '../../types/types'\nimport { getDate, getTranslate } from '../../utils/utils'\nimport { selectIngredients } from '../../store/slices/ingredients/ingredientsSlice'\n\nconst OrderInfo: FC = () => {\n  const { id }: { id: string} = useParams()\n  const dispatch = useDispatch()\n  const { info } = useSelector(selectOrder)\n  const { ingredients: allIngredients } = useSelector(selectIngredients)\n\n  useEffect(() => {\n    dispatch(clearOrder())\n    dispatch(fetchOrderInfo(id))\n  }, [])\n\n  const ingredients = useMemo(() => {\n    const arr: IBurgerIngredient[] = []\n    info?.ingredients.forEach((ingredient) => {\n      const item = allIngredients.find((item) => item._id === ingredient)\n      if (item?.type === 'bun' && arr.includes(item)) {\n        return\n      }\n      if (item) {\n        arr.push(item)\n      }\n    })\n    return arr\n  }, [allIngredients, info])\n\n  const totalPrice = useMemo(() => {\n    return ingredients.reduce((acc, val) => {\n      return acc+= val.type === 'bun' ? val.price * 2 : val.price\n    }, 0)\n  }, [ingredients])\n\n  if (!info) {\n    return (\n      <div className={styles.order}>\n        <p className=\"text text_type_main-medium mb-3\">\n          Получаем информацию о заказе...\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className={styles.order}>\n      <p className={`${styles.number} text text_type_digits-default mb-10`}>\n      #{id}\n      </p>\n      <p className=\"text text_type_main-medium mb-3\">\n        {info?.name}\n      </p>\n      <p className=\"text text_type_main-default color-success mb-15\">\n        {info && getTranslate[info.status]}\n      </p>\n\n      <p className=\"text text_type_main-medium mb-6\">\n        Состав:\n      </p>\n      <ul className={`${styles.list} custom-scroll`}>\n        {ingredients.map((ingredient, index) => (\n          <li key={index} className={styles.item}>\n            <div className={styles.imageWrap}>\n              <img className={styles.image} src={ingredient.image_mobile} />\n            </div>\n            <p style={{width: '100%'}} className=\"text text_type_main-default ml-4 mr-4\">\n              {ingredient.name}\n            </p>\n            <div className={styles.price}>\n              <p className=\"text text_type_digits-default mr-2\">\n                {ingredient.price}\n              </p>\n              <CurrencyIcon type=\"primary\" />\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <div className={styles.footer}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {info && getDate(info.updatedAt)}\n        </p>\n        <div className={styles.price}>\n          <p className=\"text text_type_digits-default mr-2\">\n            {totalPrice}\n          </p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OrderInfo\n","import { FC } from 'react'\nimport OrderInfo from '../../../components/order-info/OrderInfo'\n\nconst FeedInfo: FC = () => {\n  return (\n    <div className=\"container\">\n      <OrderInfo />\n    </div>\n  )\n}\n\nexport default FeedInfo\n","import { FC, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport OrderTape from '../../components/order-tape/OrderTape'\nimport { useDispatch, useSelector } from '../../hooks/storeHooks'\nimport { selectLiveOrders, wsDisconnect, wsConnect } from '../../store/slices/live-orders/liveOrdersSlice'\nimport { GET_USER_ORDERS } from '../../utils/api'\nimport Sidebar from '../../components/sidebar/Sidebar'\n\nconst Orders: FC = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const { data } = useSelector(selectLiveOrders)\n  const accessToken: string | null = localStorage.getItem('accessToken')\n\n  useEffect(() => {\n    history.replace({ state: {} })\n    dispatch(wsConnect(GET_USER_ORDERS + accessToken?.slice(7)))\n    return () => {\n      dispatch(wsDisconnect())\n    }\n  }, [])\n\n  return (\n    <div style={{display: 'flex'}} className=\"container\">\n      <Sidebar />\n      <OrderTape orders={data?.orders || null }/>\n    </div>\n  )\n}\n\nexport default Orders\n","import { FC } from 'react'\nimport {\n  Switch,\n  Route,\n  useLocation,\n  useHistory,\n} from 'react-router-dom'\nimport IngredientDetails from '../components/ingredient/ingredient-details/IngredientDetails'\nimport Modal from '../components/modal/modal/Modal'\nimport ProtectedRoute from '../components/protected-route/ProtectedRoute'\nimport { ILocation } from '../types/types'\n// Pages\nimport CreateBurger from './create-burger/CreateBurger'\nimport Login from './login/Login'\nimport Register from './register/Register'\nimport ForgotPassword from './forgot-password/ForgotPassword'\nimport ResetPassword from './reset-password/ResetPassword'\nimport Profile from './profile/Profile'\nimport Error from './error/Error'\nimport Ingredient from './ingredient/Ingredient'\nimport Feed from './feed/Feed'\nimport FeedInfo from './feed/feed-info/FeedInfo'\nimport Orders from './orders/Orders'\n\nconst Pages: FC = () => {\n  const location = useLocation<ILocation>()\n  const history = useHistory()\n  const background = location.state && location.state.background\n\n  const back = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <Switch location={background || location}>\n        <ProtectedRoute path=\"/profile\" exact={true}>\n          <Profile />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders\" exact={true}>\n          <Orders />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders/:id\" exact={true}>\n          <FeedInfo />\n        </ProtectedRoute>\n        <Route path=\"/reset-password\">\n          <ResetPassword />\n        </Route>\n        <Route path=\"/ingredients/:id\">\n          <Ingredient />\n        </Route>\n        <Route path=\"/forgot-password\">\n          <ForgotPassword />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/\" exact={true}>\n          <CreateBurger />\n        </Route>\n        <Route path=\"/feed\" exact={true}>\n          <Feed />\n        </Route>\n        <Route path=\"/feed/:id\" exact={true}>\n          <FeedInfo />\n        </Route>\n        <Route path=\"*\">\n          <Error />\n        </Route>\n      </Switch>\n\n      {background && (\n        <>\n          <Route path=\"/ingredients/:id\" children={\n            <Modal\n              close={back}\n              title=\"Детали ингредиента\"\n              classes=\"pt-10 pb-15\"\n            >\n              <IngredientDetails />\n            </Modal>\n          }/>\n          <Route path=\"/feed/:id\" children={\n            <Modal\n              close={back}\n              classes=\"pt-10 pb-15\"\n            >\n              <FeedInfo />\n            </Modal>\n          }/>\n          <ProtectedRoute path=\"/profile/orders/:id\">\n            <Modal\n              close={back}\n              classes=\"pt-10 pb-15\"\n            >\n              <FeedInfo />\n            </Modal>\n          </ProtectedRoute>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default Pages\n","import {\n  BrowserRouter as Router,\n} from 'react-router-dom'\nimport AppHeader from '../header/AppHeader'\nimport styles from './App.module.css'\nimport Pages from '../../pages/Pages'\nimport { useEffect } from 'react'\nimport { fetchIngredients } from '../../store/slices/ingredients/ingredientsSlice'\nimport { useDispatch } from '../../hooks/storeHooks'\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(fetchIngredients())\n  }, [])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <AppHeader />\n        <main className={`${styles.main} container pb-10`}>\n          <Pages />\n        </main>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore, combineReducers } from '@reduxjs/toolkit';\nimport { socketMiddleware } from './middleware/socket-middleware';\n// slices\nimport ingredientsSlice from './slices/ingredients/ingredientsSlice'\nimport burgerConstructorSlice from './slices/burger-constructor/burgerConstructorSlice';\nimport orderSlice from './slices/order/orderSlice';\nimport authSlice from './slices/auth/authSlice'\nimport liveOrdersSlice, {\n  wsConnect,\n  wsDisconnect,\n  wsConnecting,\n  wsOpen,\n  wsClose,\n  wsError,\n  wsMessage,\n} from './slices/live-orders/liveOrdersSlice'\nconst wsActions = {\n  wsConnect,\n  wsDisconnect,\n  wsConnecting,\n  onOpen: wsOpen,\n  onClose: wsClose,\n  onError: wsError,\n  onMessage: wsMessage,\n};\n\nconst liveOrdersMiddleware = socketMiddleware(wsActions);\n\nconst rootReducer = combineReducers({\n  ingredients: ingredientsSlice,\n  burgerConstructor: burgerConstructorSlice,\n  order: orderSlice,\n  auth: authSlice,\n  liveOrders: liveOrdersSlice\n})\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: (getDefaultMiddleware) => {\n    return getDefaultMiddleware().concat(liveOrdersMiddleware)\n  }\n})\n\nexport default store\n","import { ActionCreatorWithoutPayload, ActionCreatorWithPayload } from '@reduxjs/toolkit'\r\nimport { Middleware } from 'redux'\r\nimport { RootState } from '../../types/store'\r\n\r\nexport type TwsActionTypes = {\r\n  wsConnect: ActionCreatorWithPayload<string>,\r\n  wsDisconnect: ActionCreatorWithoutPayload,\r\n  wsSendMessage?: ActionCreatorWithPayload<any>,\r\n  wsConnecting: ActionCreatorWithoutPayload,\r\n  onOpen: ActionCreatorWithoutPayload,\r\n  onClose: ActionCreatorWithoutPayload,\r\n  onError: ActionCreatorWithPayload<string>,\r\n  onMessage: ActionCreatorWithPayload<any>,\r\n}\r\n\r\nexport const socketMiddleware = (wsActions: TwsActionTypes): Middleware => {\r\n  return (store) => {\r\n    let socket: WebSocket | null = null\r\n    let isConnected = false\r\n    let reconnectTimer = 0\r\n    let url = ''\r\n\r\n    return next => action => {\r\n      const { dispatch } = store\r\n      const {\r\n        wsConnect,\r\n        wsDisconnect,\r\n        wsSendMessage,\r\n        onOpen,\r\n        onClose,\r\n        onError,\r\n        onMessage,\r\n        wsConnecting\r\n      } = wsActions\r\n\r\n      if (wsConnect.match(action)) {\r\n        console.log('connect')\r\n        url = action.payload\r\n        socket = new WebSocket(url)\r\n        isConnected = true\r\n        dispatch(wsConnecting())\r\n      }\r\n\r\n      if (socket) {\r\n        socket.onopen = () => {\r\n          dispatch(onOpen())\r\n        }\r\n\r\n        socket.onerror = err => {\r\n          console.log('error')\r\n        }\r\n\r\n        socket.onmessage = event => {\r\n          const { data } = event\r\n          const parsedData = JSON.parse(data)\r\n          dispatch(onMessage(parsedData))\r\n        }\r\n\r\n        socket.onclose = event => {\r\n          if (event.code !== 1000) {\r\n            console.log('error')\r\n            dispatch(onError(event.code.toString()))\r\n          }\r\n          console.log('close')\r\n          dispatch(onClose())\r\n\r\n          if (isConnected) {\r\n            dispatch(wsConnecting())\r\n            reconnectTimer = window.setTimeout(() => {\r\n              dispatch(wsConnect(url))\r\n            }, 3000)\r\n          }\r\n\r\n        }\r\n\r\n        if (wsSendMessage && wsSendMessage.match(action)) {\r\n          console.log('send')\r\n          socket.send(JSON.stringify(action.payload))\r\n        }\r\n\r\n        if (wsDisconnect.match(action)) {\r\n          console.log('disconnect')\r\n          clearTimeout(reconnectTimer)\r\n          isConnected = false\r\n          reconnectTimer = 0\r\n          socket.close()\r\n          dispatch(onClose())\r\n        }\r\n      }\r\n\r\n      next(action)\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport reportWebVitals from './reportWebVitals';\n// styles\nimport './index.css'\nimport '@ya.praktikum/react-developer-burger-ui-components/dist/ui/common.css'\n// redux\nimport store from './store/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"OrderInfo_order__n0BhV\",\"number\":\"OrderInfo_number__2mhpC\",\"list\":\"OrderInfo_list__2v1Rx\",\"item\":\"OrderInfo_item__2vvMq\",\"imageWrap\":\"OrderInfo_imageWrap__10NDM\",\"image\":\"OrderInfo_image__GqCSA\",\"price\":\"OrderInfo_price__36V7G\",\"footer\":\"OrderInfo_footer__EZY_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"Order_order__1ID1O\",\"head\":\"Order_head__3Dbgu\",\"footer\":\"Order_footer__a1ZHa\",\"price\":\"Order_price__kATnU\",\"images\":\"Order_images__3b7I-\",\"imageWrap\":\"Order_imageWrap__2l0qh\",\"image\":\"Order_image__3FRzf\",\"count\":\"Order_count__2R7yo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2n2bb\",\"button\":\"Sidebar_button__2k5Em\",\"active\":\"Sidebar_active__2Fbkk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"Scoreboard_progress__3Pwgt\",\"status\":\"Scoreboard_status__hrjPI\",\"list\":\"Scoreboard_list__3ncEl\",\"number\":\"Scoreboard_number__2wRot\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"IngredientItem_item__3pucg\",\"counter\":\"IngredientItem_counter__21bd3\",\"image\":\"IngredientItem_image__L11HF\",\"price\":\"IngredientItem_price__1P9MQ\",\"name\":\"IngredientItem_name__2X3zQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preview\":\"BurgerConstructorPreview_preview__1r8kP\",\"previewCanDrop\":\"BurgerConstructorPreview_previewCanDrop__2GneR\",\"previewIsOver\":\"BurgerConstructorPreview_previewIsOver__2wXF_\",\"previewTop\":\"BurgerConstructorPreview_previewTop__AWAsb\",\"previewBottom\":\"BurgerConstructorPreview_previewBottom__380Hb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"IconButton_button__1-fHh\",\"active\":\"IconButton_active__1mfj8\",\"icon\":\"IconButton_icon__3eop4\",\"disabled\":\"IconButton_disabled__330wM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"IngredientDetails_ingredient__-51ds\",\"image\":\"IngredientDetails_image__1NxAB\",\"list\":\"IngredientDetails_list__38za9\",\"item\":\"IngredientDetails_item__BEyJ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3xYEC\",\"content\":\"Modal_content__3ZkA7\",\"head\":\"Modal_head__b5jaB\",\"close\":\"Modal_close__2uWw3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__uJm_a\",\"container\":\"AppHeader_container__1a54t\",\"logo\":\"AppHeader_logo__156i6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"OrderDetails_order__2fuom\",\"number\":\"OrderDetails_number__1i4S8\",\"image\":\"OrderDetails_image__31kgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Feed_row__1WMnw\",\"col\":\"Feed_col__3ZgfW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BurgerIngredients_container__2wjGa\",\"list\":\"BurgerIngredients_list__26itZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkout\":\"Checkout_checkout__1RJUZ\",\"price\":\"Checkout_price__3x0KT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructor\":\"BurgerConstructor_constructor__3eY2u\",\"list\":\"BurgerConstructor_list__1yEE9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__cvyS-\",\"info\":\"Form_info__3cdfn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__SIL4B\"};"],"sourceRoot":""}